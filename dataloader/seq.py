
def get_sequence_map(dataset_name, class_order):

    if 'C10-' in dataset_name or 'M-' in dataset_name:
        label_map = {
            0: list(range(10)),
            1: [3, 9, 1, 8, 0, 2, 6, 4, 5, 7],
            2: [6, 0, 2, 8, 1, 9, 7, 3, 5, 4],
            3: [2, 6, 1, 5, 9, 8, 0, 4, 3, 7],
            4: [1, 5, 7, 2, 0, 3, 4, 6, 8, 9]
        }
    elif 'flowers-' in dataset_name:
        label_map = {
            0: list(range(102)),
            1: [49, 98, 97, 53, 48, 62, 89, 23, 82, 13, 40, 35, 71, 59, 34, 95, 67, 11, 27, 7, 47, 85, 36, 70, 51, 32, 60, 16, 29, 84, 39, 8, 17, 42, 72, 18, 15, 55, 83, 10, 37, 99, 66, 22, 14, 57, 24, 38, 80, 0, 52, 88, 77, 3, 50, 6, 41, 44, 93, 9, 96, 81, 45, 58, 5, 64, 86, 2, 78, 68, 75, 56, 46, 91, 43, 20, 87, 1, 33, 28, 19, 61, 30, 74, 65, 79, 63, 25, 12, 21, 31, 90, 69, 73, 4, 94, 76, 92, 54, 26, 100, 101],
            2: [64, 79, 89, 9, 88, 3, 26, 94, 61, 62, 73, 69, 83, 8, 75, 23, 45, 92, 74, 1, 84, 71, 96, 52, 7, 95, 2, 5, 70, 28, 77, 60, 43, 22, 91, 78, 34, 80, 48, 51, 58, 37, 6, 25, 85, 97, 40, 27, 32, 98, 36, 21, 39, 31, 15, 49, 66, 72, 67, 24, 20, 93, 87, 54, 90, 76, 99, 30, 53, 29, 82, 57, 65, 4, 19, 11, 14, 41, 16, 86, 59, 68, 35, 55, 38, 17, 33, 50, 81, 63, 42, 10, 18, 56, 44, 13, 46, 0, 47, 12, 100, 101],
            3: [97, 1, 48, 88, 58, 46, 87, 18, 35, 71, 45, 6, 31, 69, 21, 96, 9, 44, 14, 68, 98, 27, 56, 38, 13, 63, 47, 57, 22, 64, 8, 73, 78, 94, 52, 4, 23, 28, 85, 2, 19, 10, 92, 7, 93, 76, 42, 34, 49, 80, 40, 37, 66, 83, 33, 99, 36, 12, 41, 39, 75, 25, 3, 95, 16, 0, 29, 53, 60, 11, 24, 82, 86, 32, 91, 43, 65, 89, 15, 81, 17, 62, 90, 54, 51, 20, 55, 30, 77, 59, 50, 5, 74, 84, 67, 79, 70, 61, 72, 26, 100, 101],
            4: [34, 31, 97, 47, 83, 59, 39, 4, 32, 44, 26, 73, 45, 33, 56, 87, 82, 23, 88, 10, 51, 57, 65, 84, 43, 37, 9, 74, 28, 24, 90, 25, 60, 80, 5, 64, 63, 62, 40, 19, 49, 21, 77, 95, 99, 16, 12, 14, 70, 54, 53, 38, 8, 72, 18, 68, 15, 94, 36, 7, 1, 69, 2, 61, 98, 75, 85, 11, 17, 76, 22, 27, 92, 71, 3, 0, 66, 42, 96, 67, 35, 30, 46, 81, 48, 93, 79, 6, 13, 86, 20, 91, 78, 50, 89, 41, 52, 55, 29, 58, 100, 101]
        }
    elif 'ImageNet' in dataset_name:
        label_map = {
            0: list(range(1000)),
            1: [466, 665, 34, 216, 833, 822, 180, 683, 684, 831, 109, 217, 660, 91, 168, 545, 142, 941, 978, 179, 759, 47, 915, 287, 775, 773, 215, 561, 263, 281, 714, 129, 568, 406, 907, 18, 500, 575, 927, 652, 4, 730, 136, 668, 261, 450, 855, 108, 39, 824, 764, 911, 981, 187, 985, 860, 772, 886, 988, 991, 52, 132, 157, 365, 914, 602, 603, 453, 550, 374, 358, 596, 588, 680, 213, 206, 826, 776, 449, 946, 894, 777, 260, 642, 523, 372, 325, 426, 127, 354, 803, 468, 474, 572, 585, 919, 820, 976, 859, 710, 275, 865, 128, 989, 968, 493, 174, 488, 399, 434, 35, 853, 6, 492, 126, 414, 307, 413, 569, 423, 547, 470, 396, 494, 836, 720, 444, 80, 560, 726, 480, 845, 763, 671, 977, 905, 709, 387, 686, 105, 657, 482, 962, 863, 814, 799, 193, 633, 308, 478, 703, 510, 419, 531, 71, 509, 169, 966, 737, 200, 587, 970, 627, 581, 104, 695, 286, 895, 815, 577, 2, 197, 452, 735, 934, 920, 341, 540, 388, 342, 728, 382, 849, 645, 636, 862, 68, 81, 571, 951, 181, 533, 901, 499, 223, 774, 228, 599, 31, 448, 98, 256, 878, 32, 805, 512, 370, 258, 987, 117, 979, 292, 259, 723, 76, 195, 87, 889, 616, 881, 244, 916, 30, 648, 791, 675, 797, 624, 201, 439, 393, 280, 890, 402, 562, 597, 813, 314, 376, 45, 33, 328, 3, 262, 816, 631, 424, 297, 7, 851, 980, 586, 234, 945, 243, 153, 15, 451, 392, 741, 310, 268, 343, 266, 601, 667, 483, 576, 861, 257, 408, 385, 698, 205, 219, 298, 746, 291, 888, 880, 446, 79, 29, 506, 733, 525, 431, 101, 623, 469, 42, 701, 984, 464, 435, 398, 455, 591, 163, 753, 306, 785, 969, 711, 50, 542, 320, 971, 335, 649, 222, 583, 366, 594, 454, 383, 185, 415, 549, 122, 787, 621, 433, 705, 95, 155, 700, 120, 551, 302, 555, 285, 110, 528, 503, 639, 375, 514, 43, 758, 552, 565, 251, 866, 582, 644, 600, 538, 467, 887, 490, 458, 123, 742, 729, 59, 993, 103, 762, 245, 238, 906, 910, 940, 118, 794, 651, 351, 318, 491, 505, 810, 655, 751, 832, 430, 784, 116, 612, 682, 1, 82, 5, 19, 323, 617, 807, 646, 629, 653, 663, 160, 520, 553, 384, 808, 436, 786, 37, 856, 475, 191, 669, 149, 353, 840, 100, 150, 231, 953, 997, 344, 361, 198, 745, 294, 317, 25, 347, 765, 673, 159, 389, 957, 350, 371, 304, 930, 301, 679, 998, 194, 288, 732, 416, 332, 595, 363, 477, 740, 235, 501, 619, 134, 837, 780, 381, 131, 137, 718, 226, 53, 955, 339, 113, 54, 994, 247, 380, 338, 337, 996, 319, 964, 811, 140, 111, 348, 738, 355, 825, 242, 445, 606, 872, 812, 175, 697, 952, 58, 556, 265, 958, 422, 513, 507, 626, 608, 209, 130, 23, 903, 579, 662, 558, 146, 357, 609, 524, 237, 858, 754, 798, 272, 818, 115, 322, 253, 428, 854, 877, 959, 333, 712, 255, 164, 830, 112, 769, 315, 658, 156, 186, 89, 620, 282, 321, 641, 66, 442, 83, 230, 618, 782, 917, 233, 766, 867, 511, 792, 567, 63, 702, 937, 67, 154, 883, 570, 417, 918, 241, 605, 459, 221, 932, 208, 999, 165, 360, 643, 604, 249, 296, 20, 518, 802, 24, 12, 443, 694, 690, 229, 38, 438, 412, 73, 420, 359, 884, 176, 48, 767, 96, 693, 27, 687, 121, 356, 850, 727, 486, 170, 566, 211, 290, 57, 107, 334, 138, 995, 239, 496, 950, 790, 924, 10, 65, 204, 752, 944, 440, 539, 578, 293, 400, 800, 584, 982, 55, 202, 795, 61, 331, 462, 46, 278, 573, 346, 942, 628, 227, 391, 743, 312, 119, 473, 125, 271, 401, 534, 182, 834, 147, 489, 739, 699, 664, 717, 783, 656, 264, 885, 873, 403, 757, 674, 495, 212, 218, 734, 986, 203, 892, 935, 40, 373, 93, 614, 904, 967, 70, 0, 590, 554, 691, 715, 78, 99, 536, 283, 632, 418, 326, 465, 983, 870, 725, 846, 874, 908, 279, 635, 62, 378, 898, 504, 508, 92, 327, 425, 472, 517, 771, 22, 139, 390, 972, 521, 925, 106, 11, 502, 8, 345, 84, 868, 97, 736, 749, 133, 607, 592, 26, 364, 768, 530, 277, 975, 86, 144, 405, 541, 559, 74, 411, 781, 529, 519, 479, 309, 407, 254, 432, 625, 497, 183, 708, 654, 689, 267, 487, 828, 819, 189, 871, 748, 17, 960, 755, 779, 929, 311, 973, 611, 574, 677, 637, 178, 151, 948, 548, 869, 56, 158, 678, 69, 893, 64, 274, 778, 770, 847, 990, 844, 912, 330, 145, 485, 369, 923, 897, 471, 172, 613, 544, 252, 300, 928, 36, 615, 761, 75, 838, 954, 640, 305, 437, 173, 793, 647, 823, 713, 289, 143, 527, 688, 992, 225, 220, 9, 162, 463, 931, 349, 214, 224, 899, 817, 719, 276, 947, 921, 152, 21, 685, 427, 102, 789, 630, 580, 324, 498, 692, 716, 313, 843, 634, 672, 839, 796, 933, 124, 141, 543, 284, 404, 956, 72, 13, 731, 456, 943, 90, 171, 666, 379, 515, 273, 864, 724, 386, 246, 650, 593, 788, 192, 882, 557, 240, 841, 516, 638, 949, 135, 199, 681, 161, 28, 94, 484, 835, 188, 707, 269, 913, 14, 965, 460, 857, 670, 303, 876, 963, 295, 196, 190, 316, 250, 696, 522, 939, 409, 85, 821, 676, 41, 329, 809, 852, 936, 526, 476, 377, 395, 429, 589, 362, 827, 706, 909, 481, 60, 421, 270, 974, 394, 704, 532, 842, 610, 441, 801, 926, 756, 367, 232, 368, 397, 804, 891, 564, 744, 44, 167, 49, 248, 563, 184, 598, 721, 760, 77, 447, 340, 902, 236, 722, 961, 659, 461, 848, 896, 410, 829, 336, 166, 922, 207, 177, 938, 661, 51, 747, 352, 546, 750, 114, 148, 622, 299, 210, 879, 806, 16, 875, 537, 900, 457, 88, 535],
            2: [342, 169, 993, 427, 476, 386, 744, 359, 857, 225, 307, 112, 442, 874, 95, 689, 245, 531, 482, 29, 806, 770, 481, 908, 640, 456, 165, 800, 879, 270, 902, 205, 767, 704, 244, 115, 821, 256, 585, 948, 910, 864, 402, 602, 961, 85, 151, 278, 984, 625, 304, 951, 835, 693, 145, 824, 93, 941, 665, 634, 870, 412, 562, 498, 570, 594, 106, 965, 846, 728, 869, 6, 179, 646, 706, 577, 18, 235, 10, 588, 738, 334, 701, 121, 763, 37, 888, 746, 581, 650, 818, 882, 535, 451, 598, 470, 923, 913, 772, 649, 290, 692, 74, 124, 933, 319, 107, 683, 522, 854, 912, 96, 101, 564, 894, 971, 418, 401, 214, 938, 892, 601, 572, 839, 720, 752, 116, 571, 141, 930, 275, 664, 863, 216, 288, 677, 438, 25, 687, 895, 471, 246, 805, 759, 829, 525, 686, 550, 999, 911, 626, 47, 493, 105, 223, 860, 384, 872, 142, 954, 881, 884, 237, 567, 213, 925, 945, 784, 940, 804, 184, 12, 741, 170, 956, 399, 680, 34, 113, 80, 523, 357, 690, 647, 204, 855, 973, 662, 506, 667, 994, 673, 103, 267, 365, 771, 277, 392, 990, 464, 645, 274, 369, 127, 867, 255, 979, 937, 59, 426, 652, 986, 847, 13, 698, 188, 176, 904, 250, 547, 654, 431, 905, 919, 722, 300, 408, 355, 966, 885, 52, 263, 630, 228, 352, 243, 889, 927, 906, 82, 694, 122, 330, 132, 419, 635, 849, 194, 200, 618, 783, 241, 565, 240, 891, 1, 575, 312, 557, 958, 230, 883, 619, 934, 762, 27, 878, 374, 58, 623, 308, 363, 914, 183, 166, 295, 795, 540, 543, 128, 39, 508, 597, 331, 668, 400, 836, 437, 396, 455, 736, 658, 329, 266, 447, 827, 66, 123, 987, 672, 614, 556, 345, 492, 985, 411, 812, 343, 189, 187, 875, 458, 494, 731, 297, 530, 485, 942, 501, 765, 321, 721, 109, 900, 916, 94, 862, 306, 513, 375, 364, 186, 703, 398, 490, 3, 212, 51, 140, 379, 26, 825, 395, 574, 40, 953, 782, 666, 234, 922, 709, 810, 425, 815, 834, 624, 373, 120, 886, 21, 423, 309, 632, 505, 439, 78, 236, 46, 946, 232, 271, 749, 8, 65, 491, 532, 486, 727, 858, 478, 430, 529, 99, 454, 856, 791, 939, 406, 475, 830, 137, 143, 346, 207, 681, 119, 287, 599, 371, 276, 915, 754, 161, 377, 682, 154, 341, 226, 840, 920, 695, 705, 544, 798, 732, 220, 996, 716, 76, 935, 206, 931, 23, 367, 175, 48, 901, 472, 637, 73, 49, 249, 589, 114, 735, 459, 199, 964, 174, 740, 301, 198, 463, 67, 233, 853, 53, 972, 168, 733, 429, 631, 743, 445, 70, 845, 606, 712, 381, 789, 84, 549, 524, 897, 370, 787, 794, 786, 811, 774, 747, 417, 674, 317, 605, 248, 443, 404, 944, 434, 28, 753, 679, 587, 190, 153, 684, 289, 655, 407, 258, 328, 969, 433, 548, 293, 977, 208, 390, 711, 730, 72, 803, 488, 356, 890, 924, 775, 231, 657, 921, 310, 296, 642, 807, 71, 413, 952, 100, 620, 877, 217, 391, 929, 159, 262, 5, 77, 421, 269, 796, 178, 299, 292, 628, 420, 790, 826, 717, 700, 559, 801, 362, 147, 298, 651, 988, 441, 822, 283, 833, 432, 260, 134, 452, 793, 335, 354, 962, 713, 615, 975, 55, 118, 734, 893, 707, 446, 160, 539, 201, 450, 313, 582, 125, 596, 291, 63, 382, 15, 171, 558, 332, 264, 949, 397, 691, 781, 756, 259, 576, 54, 91, 542, 324, 460, 410, 202, 764, 222, 950, 639, 780, 350, 963, 553, 742, 416, 36, 479, 573, 135, 45, 327, 108, 81, 326, 527, 592, 9, 538, 788, 991, 465, 718, 957, 453, 519, 778, 251, 11, 675, 514, 221, 955, 670, 253, 873, 20, 41, 252, 998, 843, 671, 436, 487, 139, 697, 909, 75, 19, 612, 636, 761, 569, 30, 469, 590, 305, 777, 110, 318, 516, 177, 943, 117, 739, 496, 284, 627, 816, 757, 56, 737, 593, 799, 851, 568, 146, 899, 852, 528, 566, 936, 600, 474, 621, 537, 848, 86, 714, 180, 360, 932, 484, 303, 152, 477, 394, 819, 389, 515, 2, 467, 182, 315, 989, 779, 755, 150, 586, 968, 279, 723, 865, 163, 613, 224, 156, 859, 534, 272, 181, 314, 629, 7, 149, 633, 129, 247, 641, 254, 898, 660, 669, 415, 918, 526, 4, 405, 35, 239, 111, 560, 760, 320, 768, 193, 880, 347, 31, 211, 336, 173, 50, 79, 138, 24, 861, 339, 715, 976, 551, 842, 294, 282, 257, 656, 896, 541, 520, 814, 699, 348, 351, 773, 61, 555, 503, 813, 992, 325, 126, 164, 361, 536, 480, 302, 832, 435, 533, 238, 43, 155, 17, 974, 725, 38, 368, 261, 500, 745, 90, 69, 797, 751, 638, 227, 32, 167, 98, 68, 995, 466, 959, 229, 868, 866, 726, 22, 322, 323, 545, 685, 659, 87, 461, 16, 162, 792, 769, 579, 750, 648, 724, 196, 191, 489, 809, 837, 616, 517, 448, 876, 366, 928, 42, 580, 424, 518, 273, 903, 766, 817, 203, 983, 802, 209, 44, 409, 823, 197, 195, 311, 719, 785, 947, 280, 758, 130, 64, 468, 462, 688, 104, 33, 609, 316, 136, 414, 608, 676, 60, 546, 242, 611, 372, 512, 185, 831, 584, 643, 871, 497, 838, 265, 907, 499, 97, 644, 603, 850, 353, 980, 663, 403, 473, 509, 144, 708, 604, 338, 653, 380, 215, 710, 393, 561, 385, 340, 702, 483, 88, 210, 552, 828, 982, 457, 383, 102, 696, 192, 504, 917, 578, 388, 333, 967, 378, 970, 0, 521, 14, 607, 358, 610, 591, 997, 595, 158, 661, 344, 387, 83, 444, 678, 285, 376, 219, 808, 820, 157, 563, 268, 337, 583, 286, 507, 62, 131, 617, 960, 57, 502, 511, 428, 172, 844, 841, 978, 422, 89, 148, 887, 981, 440, 133, 748, 281, 776, 926, 622, 349, 449, 218, 92, 510, 495, 554, 729]
        }
    elif 'T-' in dataset_name:
        label_map = {
            0: list(range(200)),
            1: [117, 8, 183, 39, 40, 47, 75, 133, 193, 28, 130, 31, 98, 119, 188, 161, 57, 92, 54, 134, 6, 71, 147, 70, 139, 68, 77, 149, 17, 87, 132, 184, 59, 52, 194, 187, 159, 196, 166, 50, 63, 62, 141, 20, 126, 99, 19, 182, 164, 34, 2, 13, 97, 78, 151, 85, 150, 74, 111, 11, 61, 83, 41, 24, 55, 101, 110, 88, 60, 14, 65, 4, 51, 5, 30, 171, 158, 84, 15, 10, 46, 165, 118, 140, 90, 186, 107, 148, 180, 42, 152, 64, 189, 109, 136, 106, 91, 66, 178, 73, 172, 29, 25, 103, 44, 108, 191, 36, 72, 76, 82, 167, 160, 199, 9, 155, 175, 174, 179, 144, 177, 197, 170, 81, 121, 113, 58, 21, 89, 0, 69, 157, 137, 1, 26, 37, 153, 124, 143, 95, 23, 105, 79, 48, 32, 3, 190, 38, 135, 80, 198, 33, 53, 56, 49, 112, 125, 156, 131, 116, 129, 67, 162, 173, 123, 12, 181, 7, 192, 169, 185, 104, 100, 138, 168, 195, 43, 93, 45, 35, 22, 142, 146, 16, 127, 86, 128, 114, 27, 120, 145, 163, 102, 122, 18, 154, 94, 96, 115, 176],
            2: [121, 66, 149, 189, 103, 195, 0, 72, 179, 46, 7, 159, 70, 65, 123, 76, 54, 37, 186, 62, 96, 136, 124, 69, 181, 6, 57, 125, 161, 81, 134, 147, 132, 59, 20, 50, 93, 71, 117, 33, 135, 47, 36, 120, 94, 73, 75, 14, 102, 60, 113, 142, 175, 115, 184, 185, 152, 63, 12, 198, 24, 26, 119, 109, 165, 87, 144, 64, 48, 52, 21, 95, 116, 187, 137, 10, 84, 162, 90, 131, 88, 150, 110, 41, 146, 106, 86, 127, 151, 16, 107, 67, 129, 140, 4, 172, 39, 23, 51, 183, 197, 31, 157, 188, 171, 58, 13, 153, 32, 98, 173, 130, 97, 80, 133, 163, 53, 44, 141, 145, 155, 176, 156, 138, 22, 68, 112, 3, 174, 2, 42, 25, 29, 104, 170, 178, 193, 126, 122, 30, 196, 199, 182, 128, 91, 56, 49, 111, 83, 78, 89, 61, 192, 34, 148, 191, 180, 190, 74, 167, 158, 139, 1, 101, 166, 143, 28, 8, 43, 105, 38, 177, 118, 55, 108, 19, 5, 168, 15, 79, 160, 45, 169, 164, 85, 82, 77, 27, 40, 99, 92, 194, 18, 11, 154, 35, 100, 17, 9, 114],
            3: [156, 137, 7, 123, 154, 38, 121, 40, 43, 6, 76, 129, 91, 18, 12, 149, 162, 189, 145, 107, 5, 85, 78, 111, 191, 71, 146, 87, 155, 92, 48, 49, 21, 34, 23, 187, 179, 110, 102, 186, 105, 184, 29, 90, 159, 79, 28, 108, 89, 128, 57, 96, 194, 54, 55, 167, 141, 51, 67, 0, 177, 99, 26, 173, 1, 163, 122, 115, 30, 101, 170, 198, 134, 69, 61, 58, 192, 171, 185, 37, 124, 15, 114, 132, 181, 9, 157, 83, 19, 131, 73, 86, 153, 138, 32, 8, 33, 165, 42, 180, 44, 168, 188, 81, 64, 166, 24, 172, 142, 95, 35, 161, 160, 13, 119, 199, 39, 100, 97, 125, 52, 195, 65, 158, 197, 127, 46, 4, 175, 20, 56, 190, 41, 174, 151, 84, 182, 183, 109, 75, 3, 93, 106, 136, 50, 17, 74, 10, 150, 60, 112, 164, 193, 53, 14, 169, 152, 82, 116, 80, 63, 77, 120, 117, 11, 72, 31, 104, 113, 68, 144, 88, 178, 47, 16, 27, 176, 98, 148, 94, 25, 126, 143, 62, 118, 70, 140, 45, 66, 130, 196, 147, 133, 59, 103, 36, 139, 2, 135, 22],
            4: [187, 110, 38, 174, 97, 189, 39, 109, 122, 37, 42, 65, 101, 188, 134, 191, 153, 194, 3, 147, 78, 129, 52, 1, 185, 85, 22, 60, 98, 51, 155, 145, 24, 103, 2, 73, 139, 74, 18, 175, 48, 105, 46, 31, 161, 171, 14, 117, 69, 167, 12, 163, 25, 121, 13, 177, 16, 102, 56, 142, 107, 151, 53, 44, 62, 169, 176, 150, 67, 86, 91, 82, 5, 156, 128, 70, 149, 179, 144, 19, 146, 160, 21, 49, 0, 35, 119, 6, 141, 131, 94, 30, 162, 159, 76, 45, 17, 100, 118, 84, 66, 158, 15, 64, 54, 27, 89, 123, 193, 4, 80, 96, 58, 152, 93, 168, 108, 59, 113, 29, 34, 182, 83, 55, 11, 10, 111, 136, 133, 28, 192, 79, 127, 180, 140, 95, 68, 106, 61, 41, 157, 195, 90, 183, 130, 7, 125, 124, 40, 63, 116, 186, 199, 148, 120, 104, 75, 138, 178, 43, 181, 8, 143, 137, 20, 33, 99, 170, 184, 32, 87, 92, 154, 166, 88, 198, 26, 115, 190, 71, 72, 77, 50, 132, 165, 135, 164, 9, 47, 126, 57, 112, 114, 172, 197, 81, 36, 173, 23, 196],
        }
    return label_map[class_order]